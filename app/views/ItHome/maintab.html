<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="/public/css/bootstrap.min.css" media="screen">
	<script src="/public/jquery/js/jquery-1.8.2.js"></script>
	<link href="/public/css/bootstrap-responsive.css" rel="stylesheet">

	<style type="text/css">
		body {
		  padding-top: 60px;
		  padding-bottom: 40px;
		}
	</style>
	<title>Insert title here</title>
	
	<script type="text/javascript">
	
	</script>
	
	
	
	
	
	
	
	
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">IT特工向前冲</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
            </ul>
            <form class="navbar-form pull-right" id="login"  method="POST" >
              <input class="span2" type="password" placeholder="登陆密钥"  name="password" >
              
              <button class="btn btn-large btn-inverse" type="submit">Sign in</button>
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>
    
    <div class="container-fluid">
		<div class="row-fluid">
    		<div class="span1"></div>
			<div class="span7">
				<h1>题目：</h1>
				<br>
				<h3 id="mainText">1．word文字处理部分，切换到文字处理，完成以下操作。 
					•(1) 为全文添加标题，标题文字为“IT特工向前冲六项技能竞赛”（不包括引号），并设置为黑体，一号，加粗，具有“赤水情深”的动态效果，标题文字“居中”对齐；
					•(2) 除标题外的正文进行“分栏”，栏数为2,具有分隔线，间距为一个字符；
					•(3) 给标题添加尾注“计软学院学风建设系列活动之一”， 编号标记为“①”。 
					•（4） 插入图片a，选择合适大小（参考高度为5厘米），版式为“四周型”；
				</h3>
			</div>
			<div class="span2">
				<h1>状态：</h1>
				<br><br>
				<div class="span3"><button class="btn btn-block" id="T1Time">T1</button></div>
				<div class="span3"><button class="btn btn-block btn-danger" id="T2Time">T2</button></div>
				<div class="span3"><button class="btn btn-block" id="T3Time">T3</button></div>
				<br>
				<div class="span3"><button class="btn btn-block btn-success" id="T4Time">T4</button></div>
				<div class="span3"><button class="btn btn-block" id="T5Time">T5</button></div>
				<div class="span3"><button class="btn btn-block" id="T6Time">T6</button></div>
				<br>
				<div class="span3"><button class="btn btn-block" id="T7Time">T7</button></div>
				<div class="span3"><button class="btn btn-block" id="T8Time">T8</button></div>
				<div class="span3"><button class="btn btn-block" id="T9Time">T9</button></div>
				<br><br><br><br><br>
				
				<div class="span9"><button class="btn btn-large btn-danger btn-block"type="button"><h1>抢！ </h1></button></div>
			</div>
		</div>
	</div>
	<br>
	<div class="container-fluid">
		<div class="row-fluid">
			<div class="span1"></div>
			<div class="span6">
				<table class="table table-bordered">
					<tr>
						<td id="T1Score">T1:10</td>
						<td id="T2Score">T2:50</td>
						<td id="T3Score">T3:30</td>
						<td id="T4Score">T4:50</td>
						<td id="T5Score">T5:30</td>
						
					</tr>
					<tr>
						<td id="T6Score">T6:2</td>
						<td id="T7Score">T7:5</td>
						<td id="T8Score">T8:6</td>
						<td id="T9Score">T9:7</td>
						<td>NULL</td>
						
					</tr>
				</table>			
			</div>
			<div class="span3">
				<table class="table">
					<tr>
						<td>
							<div class="span1 offset4"><strong>4/10</div>
						</td>
					</tr>
					<tr>
						<td>
					
							<div class="progress progress-stripedactive">
					    		<div class="bar" style="width: 40%;"></div>
							</div>
					
						</td>
					</tr>
				</table>
			</div>
		</div>
	</div>

	<script>
		var scores = new Array();
		function getScore(){		
			
			var xmlhttp =new Array();
		    for(var i=1;i<=9;i++)
		    {
		    	
			    xmlhttp[i]=new XMLHttpRequest();

			    xmlhttp[i].onreadystatechange=function()
				{

					if (this.readyState==4 && this.status==200)
					{
						
						var str =  this.responseText.split("-");
						scores[str[0]] = parseInt(str[1]);
						
					 	document.getElementById("T"+str[0]+"Score").innerHTML=str[1];
					}
				}				
			    xmlhttp[i].open("GET","@{Console.getTeamScore}?teamId="+i,true);
			    xmlhttp[i].send();
		    }			
		}
		function setMaxScore(){
			var maxer = 0;
			for(var i=1;i<=9;i++)
			{
				
				if (maxer<scores[i])
				{
					maxer=scores[i];
				}
			}

			if (maxer!=0)
			for(var i=1;i<=9;i++)
			{
				if (maxer==scores[i])
				{
					var targetId = "T"+i+"Score";
					$('#'+targetId).attr("bgcolor","red");
				}
				else 
				{
					var targetId = "T"+i+"Score";
					$('#'+targetId).removeAttr("bgcolor");	
				}
			}
		}
		function getMainText(){
			var xmlhttp=new XMLHttpRequest();
			xmlhttp.onreadystatechange=function()
			{
				if (this.readyState==4 && this.status==200)
				{	
				 	document.getElementById("mainText").innerHTML=this.responseText;
				}
			}				
		    xmlhttp.open("GET","@{Console.getProblem}",true);
		    xmlhttp.send();
		}
		var times = new Array();
		function setQuickerTeam(){
			var xmlhttp =new Array();
		    for(var i=1;i<=9;i++)
		    {
		    	
			    xmlhttp[i]=new XMLHttpRequest();

			    xmlhttp[i].onreadystatechange=function()
				{
					if (this.readyState==4 && this.status==200)
					{
						var str =  this.responseText.split("-");
						times[str[0]] = parseInt(str[1]);					
					}
				}				
			    xmlhttp[i].open("GET","@{Console.getTeamTime}?teamId="+i,true);
			    xmlhttp[i].send();
		    }
		    var maxer = -999;
			for(var i=1;i<=9;i++)
			{
				console.log(times[i]);
				if (maxer<times[i])
				{
					maxer=times[i];
				}
			}

			if (maxer!=-999)
			for(var i=1;i<=9;i++)
			{
				if (maxer==times[i])
				{
					var targetId = "T"+i+"Time";
					$('#'+targetId).attr("class","btn btn-block btn-danger");
				}
				else 
				{
					var targetId = "T"+i+"Time";
					$('#'+targetId).removeAttr("class");	
					$('#'+targetId).attr("class","btn btn-block");
				}
			}
		}
		var intTeamScoreId = window.setInterval("new getScore()", 1000);
		var intMaxScoreId = window.setInterval("new setMaxScore()", 100);
		var intMaxScoreId = window.setInterval("new getMainText()", 100);
		var intMaxScoreId = window.setInterval("new setQuickerTeam()", 100);
		
		new getScore();
		var test= new Array();
		test[0]=3;
		test[1]=2;
		test[2]=1;
		console.log(test);
		test.sort();
		console.log(test);



	</script>
	
    
	<script src="/public/js/bootstrap.js"></script>
</body>
</html>